<!-- build-lunch.html - ОБНОВЛЕННЫЙ -->
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Собрать ланч - BusinessLunch</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="build-lunch.css">
</head>
<body>
    <div class="wrapper">
        <header>
            <h1>BusinessLunch</h1>
            <nav>
                <a href="index.html">Главная</a>
                <a href="build-lunch.html" id="active">Собрать ланч</a>
                <a href="orders.html">Заказы</a>
                <a href="#contacts">Контакты</a>
            </nav>
        </header>

        <main>
            <!-- Супы -->
            <section>
                <h2>Супы</h2>
                <div class="filters">
                    <button class="filter-btn active" data-kind="all">Все</button>
                    <button class="filter-btn" data-kind="fish">рыбный</button>
                    <button class="filter-btn" data-kind="meat">мясной</button>
                    <button class="filter-btn" data-kind="veg">вегетарианский</button>
                </div>
                <div class="dishes-grid">
                    <!-- Блюда будут добавлены через JavaScript -->
                </div>
            </section>

            <!-- Главные блюда -->
            <section>
                <h2>Главные блюда</h2>
                <div class="filters">
                    <button class="filter-btn active" data-kind="all">Все</button>
                    <button class="filter-btn" data-kind="fish">рыбное</button>
                    <button class="filter-btn" data-kind="meat">мясное</button>
                    <button class="filter-btn" data-kind="veg">вегетарианское</button>
                </div>
                <div class="dishes-grid">
                    <!-- Блюда будут добавлены через JavaScript -->
                </div>
            </section>

            <!-- Салаты и стартеры -->
            <section>
                <h2>Салаты и стартеры</h2>
                <div class="filters">
                    <button class="filter-btn active" data-kind="all">Все</button>
                    <button class="filter-btn" data-kind="fish">рыбный</button>
                    <button class="filter-btn" data-kind="meat">мясной</button>
                    <button class="filter-btn" data-kind="veg">вегетарианский</button>
                </div>
                <div class="dishes-grid">
                    <!-- Блюда будут добавлены через JavaScript -->
                </div>
            </section>

            <!-- Напитки -->
            <section>
                <h2>Напитки</h2>
                <div class="filters">
                    <button class="filter-btn active" data-kind="all">Все</button>
                    <button class="filter-btn" data-kind="cold">холодный</button>
                    <button class="filter-btn" data-kind="hot">горячий</button>
                </div>
                <div class="dishes-grid">
                    <!-- Блюда будут добавлены через JavaScript -->
                </div>
            </section>

            <!-- Десерты -->
            <section>
                <h2>Десерты</h2>
                <div class="filters">
                    <button class="filter-btn active" data-kind="all">Все</button>
                    <button class="filter-btn" data-kind="small">маленькая порция</button>
                    <button class="filter-btn" data-kind="medium">средняя порция</button>
                    <button class="filter-btn" data-kind="large">большая порция</button>
                </div>
                <div class="dishes-grid">
                    <!-- Блюда будут добавлены через JavaScript -->
                </div>
            </section>
            
            <!-- В файл build-lunch.html добавляем после main и перед order-form-section -->
            <section class="lunch-variants-section">
                <h2>Варианты бизнес-ланчей</h2>
                <p class="lunch-info">Выберите один из готовых вариантов или соберите свой</p>

                <div class="variants-grid">
                    <!-- Вариант 1 -->
                    <div class="variant-card">
                        <h3>Комбо 1</h3>
                        <div class="dishes-in-variant">
                            <div class="variant-dish">
                                <img src="images/soup-murhs.jpg" alt="Суп">
                                <p>Суп</p>
                            </div>
                            <div class="variant-dish">
                                <img src="images/main-rise.jpg" alt="Главное блюдо">
                                <p>Главное блюдо</p>
                           </div>
                            <div class="variant-dish">
                                <img src="images/salad-caesar.jpg" alt="Салат">
                                <p>Салат</p>
                         </div>
                         <div class="variant-dish">
                                <img src="images/drink-orange.jpg" alt="Напиток">
                                <p>Напиток</p>
                            </div>
                        </div>
                        <p class="dessert-note">Десерт можно добавить к любому варианту</p>
                    </div>

                    <!-- Вариант 2 -->
                    <div class="variant-card">
                        <h3>Комбо 2</h3>
                        <div class="dishes-in-variant">
                            <div class="variant-dish">
                                <img src="images/soup-meat.jpg" alt="Суп">
                                <p>Суп</p>
                            </div>
                            <div class="variant-dish">
                                <img src="images/main-itally.jpg" alt="Главное блюдо">
                                <p>Главное блюдо</p>
                            </div>
                            <div class="variant-dish">
                                <img src="images/drink-apple.jpg" alt="Напиток">
                                <p>Напиток</p>
                            </div>
                            <div class="empty-dish">
                                <p>—</p>
                            </div>
                        </div>
                        <p class="dessert-note">Десерт можно добавить к любому варианту</p>
                    </div>

                    <!-- Вариант 3 -->
                    <div class="variant-card">
                        <h3>Комбо 3</h3>
                        <div class="dishes-in-variant">
                            <div class="variant-dish">
                                <img src="images/soup-tomato.jpg" alt="Суп">
                                <p>Суп</p>
                            </div>
                            <div class="variant-dish">
                                <img src="images/salad-greek.jpg" alt="Салат">
                                <p>Салат</p>
                            </div>
                            <div class="variant-dish">
                                <img src="images/drink-red.jpg" alt="Напиток">
                                <p>Напиток</p>
                            </div>
                            <div class="empty-dish">
                                <p>—</p>
                            </div>
                        </div>
                        <p class="dessert-note">Десерт можно добавить к любому варианту</p>
                    </div>

                    <!-- Вариант 4 -->
                    <div class="variant-card">
                        <h3>Комбо 4</h3>
                        <div class="dishes-in-variant">
                            <div class="variant-dish">
                                <img src="images/main-fish.jpg" alt="Главное блюдо">
                                <p>Главное блюдо</p>
                            </div>
                            <div class="variant-dish">
                                <img src="images/salad-shrimp.jpg" alt="Салат">
                                <p>Салат</p>
                            </div>
                            <div class="variant-dish">
                                <img src="images/drink-green.jpg" alt="Напиток">
                                <p>Напиток</p>
                            </div>
                            <div class="empty-dish">
                                <p>—</p>
                            </div>
                        </div>
                        <p class="dessert-note">Десерт можно добавить к любому варианту</p>
                    </div>

                    <!-- Вариант 5 -->
                    <div class="variant-card">
                        <h3>Комбо 5</h3>
                        <div class="dishes-in-variant">
                            <div class="variant-dish">
                                <img src="images/main-beef.jpg" alt="Главное блюдо">
                                <p>Главное блюдо</p>
                            </div>
                            <div class="variant-dish">
                                <img src="images/drink-black.jpg" alt="Напиток">
                                <p>Напиток</p>
                            </div>
                            <div class="empty-dish">
                                <p>—</p>
                            </div>
                            <div class="empty-dish">
                                <p>—</p>
                            </div>
                        </div>
                        <p class="dessert-note">Десерт можно добавить к любому варианту</p>
                    </div>
                </div>
            </section>

            <section class="order-form-section">
                <h2>Оформление заказа</h2>
                <form id="lunch-order-form" action="https://httpbin.org/post" method="POST">
                    <div class="form-container">
                        <!-- Блок с заказом клиента -->
                        <div class="order-block">
                            <h3>Ваш заказ</h3>
                            <!-- Содержимое будет заполняться через JavaScript -->
                        </div>
                        
                        <!-- Блок с данными клиента -->
                        <div class="customer-block">
                            <h3>Данные для доставки</h3>
                            
                            <div class="form-group">
                                <label for="name">Имя *</label>
                                <input type="text" id="name" name="name" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="email">Email *</label>
                                <input type="email" id="email" name="email" required>
                            </div>
                            
                            <div class="form-group checkbox-group">
                                <input type="checkbox" id="subscription" name="subscription" checked>
                                <label for="subscription">Получать информацию о скидках и акциях</label>
                            </div>
                            
                            <div class="form-group">
                                <label for="phone">Телефон *</label>
                                <input type="tel" id="phone" name="phone" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="address">Адрес доставки *</label>
                                <input type="text" id="address" name="address" required>
                            </div>
                            
                            <div class="form-group">
                                <label>Время доставки *</label>
                                <div class="radio-group">
                                    <label for="time_asap">Как можно скорее</label>
                                    <input type="radio" id="time_asap" name="delivery_time" value="asap" required>
                                
                                    <label for="time_specific">Указать время</label>
                                    <input type="radio" id="time_specific" name="delivery_time" value="specific">
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="delivery_time_input">Укажите время доставки</label>
                                <input type="time" id="delivery_time_input" name="delivery_time_input" 
                                       min="07:00" max="23:00" step="300">
                            </div>
                            
                            <div class="form-buttons">
                                <button type="reset" class="reset-btn">Сбросить</button>
                                <button type="submit" class="submit-btn">Отправить заказ</button>
                            </div>
                        </div>
                    </div>
                </form>
            </section>
        </main>

        <footer id="contacts">
            <h2>Контакты</h2>
            <p>Москва, ...</p>
            <p>Телефон: <a href="...">...</a></p>
            <p>Email: <a href="...">...</a></p>
            <p>Время работы: ...</p>
        </footer>
    </div>

    <!-- Подключаем JavaScript файлы -->
    <!-- В конец файла build-lunch.html, перед закрывающим тегом </body> -->
    <script src="api-service.js"></script>
    <script src="display-dishes.js"></script>
    <script src="order-manager.js"></script>
    <script src="filters.js"></script>
    <script src="order-validation.js"></script>

    <script>
        // Главная функция инициализации
        document.addEventListener('DOMContentLoaded', function() {
            console.log('BusinessLunch - Запуск загрузки данных...');
        
            // Загружаем блюда из API
           if (typeof apiService !== 'undefined') {
               apiService.loadDishes();
            } else {
               console.error('API сервис не загружен');
            
               // Используем локальные данные
                if (typeof onDishesLoaded === 'function') {
                    // Получаем fallback данные
                    const fallbackDishes = [
                    // ... локальные данные
                   ];
                
                    // Инициализируем модули с локальными данными
                    if (typeof window.initDishes === 'function') {
                        window.initDishes(fallbackDishes);
                    }
                
                    if (typeof window.initDishesForOrder === 'function') {
                        window.initDishesForOrder(fallbackDishes);
                    }
                
                    onDishesLoaded();
                }
            }
        });
    </script>
    
</body>
</html>